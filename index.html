<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POSPal - Your Journey to a Smarter Business</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Lora:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- Base Styles --- */
        :root {
            --brand-blue: #002366;
            --brand-green: #66cc33;
            --light-gray: #f7fafc;
            --dark-gray: #2d3748;
            --medium-gray: #718096;
            --hero-bg: #f0f4f8;
        }
        body {
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
            color: var(--dark-gray);
            background-color: var(--light-gray);
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Lora', serif;
            color: var(--brand-blue);
        }

        /* --- CTA Button Styles --- */
        .cta-button {
            transition: all 0.3s ease;
            border-radius: 8px;
            font-weight: 600;
            display: inline-flex; /* Use inline-flex for alignment */
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0.7rem 1.25rem;
            font-size: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .cta-primary {
            background-color: var(--brand-green);
            color: white;
        }
        .cta-primary:hover {
            background-color: #57b32c;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }
        .cta-secondary {
            background-color: #e2e8f0;
            color: var(--brand-blue);
            border: 2px solid transparent;
        }
        .cta-secondary:hover {
            background-color: #cbd5e1;
            color: var(--brand-blue);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.1);
        }
        
        .cta-container {
            animation: cta-enter 0.6s ease-out 0.8s forwards;
            opacity: 0;
            transform: translateY(10px);
        }

        @keyframes cta-enter {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- Optimized Metro Map Styles --- */
        .hero-map-bg {
            background-color: var(--hero-bg);
            position: relative;
            overflow: hidden;
        }
        .map-line {
            fill: none;
            stroke-width: 8px;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .main-line { stroke: var(--brand-green); }
        .exit-line { stroke: var(--medium-gray); }

        .station-group {
            cursor: pointer;
            opacity: 0;
            animation: fade-in 1s ease 0.5s forwards;
            transition: transform 0.2s ease-out;
            will-change: transform;
        }
        .station-group:hover {
            transform: scale(1.1);
        }

        .station-dot {
            stroke-width: 6px;
            transition: all 0.3s ease;
        }
        
        @keyframes station-ping {
            0% { transform: scale(1.1); }
            50% { transform: scale(1.4); }
            100% { transform: scale(1.1); }
        }

        .station-group.active {
            transform: scale(1.1);
        }
        .station-group.active .station-dot {
             stroke: var(--brand-blue);
             animation: station-ping 0.4s ease-in-out;
             transform-origin: center;
             transform-box: fill-box;
        }
        .station-group.completed .station-dot {
            fill: var(--brand-green);
        }

        .station-label {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            fill: var(--dark-gray);
            font-size: 18px;
            text-shadow: 0 0 4px white, 0 0 4px white;
            transition: fill 0.3s ease;
        }
        .station-group.active .station-label {
            fill: var(--brand-blue);
            font-weight: 700;
        }

        .station-sublabel {
            font-size: 14px;
            fill: var(--medium-gray);
        }
        
        #train-marker-desktop, #train-marker-mobile {
            fill: var(--brand-blue);
            stroke: white;
            stroke-width: 3px;
            transition: cx 0.5s cubic-bezier(0.65, 0, 0.35, 1), cy 0.5s cubic-bezier(0.65, 0, 0.35, 1);
            will-change: cx, cy;
        }

        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        #hero-headline, #info-panel {
            transition: opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1), transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            will-change: transform, opacity;
        }
        #info-panel {
            opacity: 0;
            transform: translateY(15px);
        }
        #info-panel.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .cta-highlight {
            animation: pulse-glow 2s infinite;
        }
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(102, 204, 51, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(102, 204, 51, 0); }
            100% { box-shadow: 0 0 0 0 rgba(102, 204, 51, 0); }
        }

        /* --- Content Flow Styles --- */
        .section-divider {
            line-height: 0; 
            background-color: transparent;
        }
        .section-divider svg {
            width: 100%;
            height: auto;
        }
        .section-title {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            will-change: opacity, transform;
        }
        .section-title.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-light-gray">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-3">
                <img src="https://raw.githubusercontent.com/Thanos-dev/POSPal/main/app_icon.png" alt="POSPal Logo" class="h-10 w-10 object-contain">
                <h1 class="text-xl font-bold text-brand-dark font-lora">POSPal</h1>
            </a>
            <div class="flex items-center space-x-4">
                 <a href="tel:+301234567890" class="hidden md:flex items-center text-gray-600 hover:text-brand-primary transition">
                    <i class="fas fa-phone mr-1"></i>+30 123 456 7890
                </a>
                <a href="#pricing" class="cta-button cta-primary text-sm py-2 px-4">
                    Free Trial
                </a>
                <button id="mobile-menu-button" class="md:hidden text-brand-blue hover:text-brand-green focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden fixed inset-0 bg-white z-50">
        <div class="flex justify-end p-6">
            <button id="close-menu-button">
                <i class="fas fa-times text-3xl text-gray-600"></i>
            </button>
        </div>
        <div class="flex flex-col items-center justify-center h-full -mt-12 space-y-8">
            <a href="#features" class="mobile-menu-link text-2xl font-semibold text-gray-800 hover:text-brand-primary">Features</a>
            <a href="#how-it-works" class="mobile-menu-link text-2xl font-semibold text-gray-800 hover:text-brand-primary">How It Works</a>
            <a href="#pricing" class="mobile-menu-link text-2xl font-semibold text-gray-800 hover:text-brand-primary">Pricing</a>
            <a href="#faq" class="mobile-menu-link text-2xl font-semibold text-gray-800 hover:text-brand-primary">FAQ</a>
            <a href="#pricing" class="cta-button cta-primary mt-8">
                Book Your Installation
            </a>
        </div>
    </div>

    <!-- ===== HERO SECTION (RESTRUCTURED) ===== -->
    <main class="hero-map-bg">
        <!-- Flex container to manage vertical space and fill viewport height on mobile -->
        <div class="container mx-auto px-4 flex flex-col md:block min-h-[calc(100vh-68px)] md:min-h-0 py-6 md:py-12">
            
            <!-- Top Section: Headline (with fixed height on mobile) -->
            <div class="text-center">
                <h2 id="hero-headline" class="text-3xl sm:text-4xl font-bold text-brand-dark leading-tight font-lora h-20 md:h-auto flex items-center justify-center">
                    Your Risk-Free Path to a Better Business
                </h2>
            </div>

            <!-- Middle Section: SVG Map (takes up remaining space on mobile) -->
            <div class="relative flex-grow w-full my-2 md:h-[400px] md:mt-6">
                <!-- Desktop Map -->
                <svg id="metro-map-desktop" class="hidden md:block absolute inset-0 w-full h-full" viewBox="0 0 1200 400" preserveAspectRatio="xMidYMid meet">
                    <path class="map-line exit-line" d="M850 200 C 950 200, 950 300, 1100 300" />
                    <path class="map-line main-line" d="M100 200 L 850 200 C 950 200, 950 100, 1100 100" />
                    <g transform="translate(100, 200)"><g id="d-station1" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--brand-green)"/><text class="station-label" y="-25" text-anchor="middle">Try Demo</text></g></g>
                    <g transform="translate(350, 200)"><g id="d-station2" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--brand-green)"/><text class="station-label" y="-25" text-anchor="middle">Book Free Setup</text></g></g>
                    <g transform="translate(600, 200)"><g id="d-station3" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--brand-green)"/><text class="station-label" y="-25" text-anchor="middle">30-Day Journey</text></g></g>
                    <g transform="translate(1100, 100)"><g id="d-station4" class="station-group"><circle class="station-dot" r="15" fill="var(--brand-green)" stroke="#fff"/><text class="station-label" y="-40" text-anchor="middle">Lifetime Ownership</text><text class="station-sublabel" y="-22" text-anchor="middle">€200 One-Time</text></g></g>
                    <g transform="translate(1100, 300)"><g id="d-station5" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--medium-gray)"/><text class="station-label" y="-25" text-anchor="middle">No-Obligation Exit</text></g></g>
                    <circle id="train-marker-desktop" r="12" />
                </svg>
                <!-- Mobile Map -->
                <svg id="metro-map-mobile" class="md:hidden absolute inset-0 w-full h-full" viewBox="0 0 400 400" preserveAspectRatio="xMidYMid meet">
                    <path class="map-line exit-line" d="M200 275 C 200 325, 300 325, 300 375" />
                    <path class="map-line main-line" d="M200 50 L 200 275 C 200 325, 100 325, 100 375" />
                    <g transform="translate(200, 50)"><g id="m-station1" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--brand-green)"/><text class="station-label" x="20">Try Demo</text></g></g>
                    <g transform="translate(200, 125)"><g id="m-station2" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--brand-green)"/><text class="station-label" x="-20" text-anchor="end">Book Free Setup</text></g></g>
                    <g transform="translate(200, 200)"><g id="m-station3" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--brand-green)"/><text class="station-label" x="20">30-Day Journey</text></g></g>
                    <g transform="translate(100, 375)"><g id="m-station4" class="station-group"><circle class="station-dot" r="15" fill="var(--brand-green)" stroke="#fff"/><text class="station-label" y="35" text-anchor="middle">Lifetime</text></g></g>
                    <g transform="translate(300, 375)"><g id="m-station5" class="station-group"><circle class="station-dot" r="10" fill="#fff" stroke="var(--medium-gray)"/><text class="station-label" y="35" text-anchor="middle">Exit</text></g></g>
                    <circle id="train-marker-mobile" r="12" />
                </svg>
            </div>

            <!-- Bottom Section: Controls (with redesigned buttons) -->
            <div class="text-center mt-auto">
                <div id="info-panel" class="text-lg text-gray-700 max-w-2xl mx-auto bg-white/50 backdrop-blur-sm p-4 rounded-lg min-h-[95px]">
                    <p id="info-text">Click any station on the map to learn more about the journey.</p>
                </div>
                <div class="mt-4 flex justify-center items-center gap-x-3 sm:gap-x-4 cta-container">
                    <a id="cta-step2" href="https://calendly.com/bzoumboulis/pospal-installation-service" target="_blank" class="cta-button cta-primary">
                        <i class="fas fa-calendar-check mr-2"></i>
                        <span>Start at Step 2</span>
                    </a>
                    <a id="cta-step1" href="POSPal_Demo.html" target="_blank" class="cta-button cta-secondary">
                        <i class="fas fa-play-circle mr-2"></i>
                        <span>Start at Step 1</span>
                    </a>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Wave Divider -->
    <div class="section-divider bg-hero-bg">
        <svg viewBox="0 0 1440 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1440 99.1549H0V0C240 54.5352 480 81.8028 720 81.8028C960 81.8028 1200 54.5352 1440 0V99.1549Z" fill="white"/>
        </svg>
    </div>

    <!-- The rest of the page sections -->
    <section id="features" class="pt-16 pb-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-12">
                <h2 class="section-title text-3xl font-bold text-brand-dark">Why Business Owners Choose POSPal</h2>
                <p class="mt-4 text-gray-600">The affordable alternative to complex, expensive systems</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="text-center p-4"><div class="text-brand-green text-5xl mb-4"><i class="fas fa-euro-sign"></i></div><h4 class="text-xl font-semibold">Cost Effective</h4><p class="mt-3 text-gray-600">Avoid expensive subscriptions. One payment gives you lifetime ownership.</p></div>
                <div class="text-center p-4"><div class="text-brand-green text-5xl mb-4"><i class="fas fa-plug"></i></div><h4 class="text-xl font-semibold">Easy Setup</h4><p class="mt-3 text-gray-600">We handle printer setup and installation - no technical skills needed.</p></div>
                <div class="text-center p-4"><div class="text-brand-green text-5xl mb-4"><i class="fas fa-sync-alt"></i></div><h4 class="text-xl font-semibold">Always Updated</h4><p class="mt-3 text-gray-600">Free automatic updates with new features and improvements.</p></div>
            </div>
        </div>
    </section>

    <!-- Wave Divider -->
    <div class="section-divider bg-white">
        <svg viewBox="0 0 1440 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1440 99.1549H0V0C240 54.5352 480 81.8028 720 81.8028C960 81.8028 1200 54.5352 1440 0V99.1549Z" fill="var(--light-gray)"/>
        </svg>
    </div>

    <section id="how-it-works" class="pt-16 pb-16 bg-light-gray"><div class="container mx-auto px-6"><div class="text-center max-w-3xl mx-auto mb-12"><h2 class="section-title text-3xl font-bold text-brand-dark">Simple & Risk-Free</h2><p class="mt-4 text-gray-600">Try POSPal for 30 days with no obligation</p></div><div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto"><div class="text-center"><div class="bg-white rounded-full h-20 w-20 flex items-center justify-center mx-auto text-brand-primary text-3xl font-bold shadow-md">1</div><h4 class="mt-6 text-xl font-semibold">Book Setup</h4><p class="mt-2 text-gray-600">Quick meeting to schedule installation</p></div><div class="text-center"><div class="bg-white rounded-full h-20 w-20 flex items-center justify-center mx-auto text-brand-primary text-3xl font-bold shadow-md">2</div><h4 class="mt-6 text-xl font-semibold">30-Day Trial</h4><p class="mt-2 text-gray-600">Full access with our installation support</p></div><div class="text-center"><div class="bg-white rounded-full h-20 w-20 flex items-center justify-center mx-auto text-brand-primary text-3xl font-bold shadow-md">3</div><h4 class="mt-6 text-xl font-semibold">Pay Only If Convinced</h4><p class="mt-2 text-gray-600">€200 one-time payment after trial</p></div></div></div></section>
    
    <!-- Wave Divider -->
    <div class="section-divider bg-light-gray">
        <svg viewBox="0 0 1440 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1440 99.1549H0V0C240 54.5352 480 81.8028 720 81.8028C960 81.8028 1200 54.5352 1440 0V99.1549Z" fill="white"/>
        </svg>
    </div>

    <section id="pricing" class="pt-16 pb-16 bg-white"><div class="container mx-auto px-6"><div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden"><div class="p-8"><div class="uppercase tracking-wide text-sm text-brand-green font-semibold">One-Time Payment</div><div class="mt-2 flex items-baseline"><span class="text-4xl font-extrabold">€200</span><span class="ml-2 text-gray-500">/ lifetime</span></div><p class="mt-2 text-gray-500">After 30-day free trial</p><ul class="mt-6 space-y-3"><li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i>Free printer setup service</li><li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i>Lifetime software license</li><li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i>Automatic updates forever</li><li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i>Email support</li></ul><div class="mt-8"><a href="https://calendly.com/bzoumboulis/pospal-installation-service" target="_blank" class="cta-button cta-primary w-full py-3 text-center">Start Your Free Trial</a></div></div></div></div></section>
    
    <!-- Wave Divider -->
    <div class="section-divider bg-white">
        <svg viewBox="0 0 1440 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1440 99.1549H0V0C240 54.5352 480 81.8028 720 81.8028C960 81.8028 1200 54.5352 1440 0V99.1549Z" fill="var(--light-gray)"/>
        </svg>
    </div>

    <section id="faq" class="pt-16 pb-16 bg-light-gray"><div class="container mx-auto px-6 max-w-3xl"><div class="text-center mb-12"><h2 class="section-title text-3xl font-bold text-brand-dark">Frequently Asked Questions</h2></div><div class="space-y-4"><div class="border-b pb-4"><h4 class="font-semibold text-lg">What's included in the free trial?</h4><p class="mt-2 text-gray-600">Our 30-day trial includes full access to all features with personal installation support. We'll set up your printers and ensure everything works with your specific setup.</p></div><div class="border-b pb-4"><h4 class="font-semibold text-lg">What happens after 30 days?</h4><p class="mt-2 text-gray-600">If you love POSPal, you'll pay the one-time €200 fee to continue using it. If not, there's no obligation to purchase.</p></div><div class="border-b pb-4"><h4 class="font-semibold text-lg">Can I run POSPal on my existing hardware?</h4><p class="mt-2 text-gray-600">Yes! You need a Windows computer for the server and any modern device with a browser (tablet, phone, laptop) for your staff. We'll help configure your receipt printer during installation.</p></div><div class="border-b pb-4"><h4 class="font-semibold text-lg">How is POSPal different from other systems?</h4><p class="mt-2 text-gray-600">Unlike subscription-based POS systems, POSPal has one affordable payment with no ongoing fees. We focus on essential business features without complex enterprise bloat that drives up costs.</p></div></div></div></section>
    
    <section class="py-16 bg-brand-dark text-white"><div class="container mx-auto px-6 text-center"><h2 class="section-title text-3xl font-bold text-white">Ready to Simplify Your Business?</h2><p class="mt-4 text-xl max-w-2xl mx-auto">Join hundreds of small businesses using POSPal</p><a href="https://calendly.com/bzoumboulis/pospal-installation-service" target="_blank" class="cta-button cta-primary inline-block mt-8 py-4 px-12 text-lg">Start Your Free Trial</a><div class="mt-4 text-gray-300">No credit card required - 30-day trial</div></div></section>
    
    <footer class="bg-gray-900 text-gray-400 py-12"><div class="container mx-auto px-6"><div class="grid md:grid-cols-4 gap-8"><div><h4 class="text-white text-lg font-bold mb-4">POSPal</h4><p class="text-sm">Affordable POS solutions for small businesses</p></div><div><h4 class="text-white text-lg font-bold mb-4">Contact</h4><ul class="space-y-2 text-sm"><li><i class="fas fa-envelope mr-2"></i> support@pospal.gr</li><li><i class="fas fa-phone mr-2"></i> +30 123 456 7890</li><li><i class="fab fa-instagram mr-2"></i> @pospal_gr</li></ul></div><div><h4 class="text-white text-lg font-bold mb-4">Resources</h4><ul class="space-y-2 text-sm"><li><a href="#" class="hover:text-white">Documentation</a></li><li><a href="POSPal_Demo.html" target="_blank" class="hover:text-white">Interactive Demo</a></li><li><a href="#" class="hover:text-white">Installation Guide</a></li></ul></div><div><h4 class="text-white text-lg font-bold mb-4">Legal</h4><ul class="space-y-2 text-sm"><li><a href="#" class="hover:text-white">Privacy Policy</a></li><li><a href="#" class="hover:text-white">Terms of Service</a></li><li><a href="#" class="hover:text-white">Refund Policy</a></li></ul></div></div><div class="border-t border-gray-800 mt-8 pt-8 text-center text-sm"><p>&copy; 2024 POSPal. All rights reserved.</p></div></div></footer>

    <script>
        // --- Mobile Menu Script ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const closeMenuButton = document.getElementById('close-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuLinks = document.querySelectorAll('.mobile-menu-link');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });
        const closeMenu = () => {
            mobileMenu.classList.add('hidden');
            document.body.style.overflow = '';
        };
        closeMenuButton.addEventListener('click', closeMenu);
        mobileMenuLinks.forEach(link => link.addEventListener('click', closeMenu));

        // --- Metro Map Script ---
        document.addEventListener('DOMContentLoaded', () => {
            const desktopMarker = document.getElementById('train-marker-desktop');
            const mobileMarker = document.getElementById('train-marker-mobile');
            const infoPanel = document.getElementById('info-panel');
            const infoText = document.getElementById('info-text');
            const mainHeadline = document.getElementById('hero-headline');
            const ctaStep1 = document.getElementById('cta-step1');
            const ctaStep2 = document.getElementById('cta-step2');

            let tourTimeout;
            let isAutoPlaying = true;
            let currentStationId = '';

            // Adjusted mobile positions for the new, more compact mobile SVG
            const stationData = {
                station1: { 
                    headline: "Explore Every Feature, Instantly.",
                    text: "See POSPal in action with our interactive demo. No signup required.",
                    ctaId: 'cta-step1',
                    desktopPos: { x: 100, y: 200 },
                    mobilePos: { x: 200, y: 50 }
                },
                station2: { 
                    headline: "Let Us Handle the Hard Part, For Free.",
                    text: "Ready to try it in your business? Book a free, no-obligation setup call.",
                    ctaId: 'cta-step2',
                    desktopPos: { x: 350, y: 200 },
                    mobilePos: { x: 200, y: 125 }
                },
                station3: { 
                    headline: "Experience the Difference for 30 Days.",
                    text: "We install the system and you use it for 30 days, with full support.",
                    ctaId: 'cta-step2',
                    desktopPos: { x: 600, y: 200 },
                    mobilePos: { x: 200, y: 200 }
                },
                station4: { 
                    headline: "Your Business, Your System. Forever.",
                    text: "Love it? Pay once and own it forever. Includes all future updates.",
                    ctaId: 'cta-step2',
                    desktopPos: { x: 1100, y: 100 },
                    mobilePos: { x: 100, y: 375 }
                },
                station5: { 
                    headline: "A Safe and Easy Exit.",
                    text: "Not for you? No problem. We part as friends, no questions asked.",
                    ctaId: null,
                    desktopPos: { x: 1100, y: 300 },
                    mobilePos: { x: 300, y: 375 }
                }
            };

            const handleStationClick = (stationId) => {
                if (currentStationId === stationId) return;
                currentStationId = stationId;
                const data = stationData[stationId];
                if (!data) return;
                mainHeadline.style.opacity = 0;
                infoPanel.classList.remove('visible');
                setTimeout(() => {
                    mainHeadline.textContent = data.headline;
                    infoText.textContent = data.text;
                    mainHeadline.style.opacity = 1;
                    infoPanel.classList.add('visible');
                }, 250);
                desktopMarker.setAttribute('cx', data.desktopPos.x);
                desktopMarker.setAttribute('cy', data.desktopPos.y);
                mobileMarker.setAttribute('cx', data.mobilePos.x);
                mobileMarker.setAttribute('cy', data.mobilePos.y);
                document.querySelectorAll('.station-group').forEach(s => {
                    s.classList.remove('active');
                    const baseId = s.id.substring(2); // e.g., 'd-station1' -> 'station1'
                    if (baseId === stationId) {
                        s.classList.add('active');
                    }
                });
                ctaStep1.classList.remove('cta-highlight');
                ctaStep2.classList.remove('cta-highlight');
                if (data.ctaId) {
                    document.getElementById(data.ctaId).classList.add('cta-highlight');
                }
            };

            const stopAutoPlay = () => {
                isAutoPlaying = false;
                clearTimeout(tourTimeout);
            };

            const startAutoPlay = () => {
                const stationIds = Object.keys(stationData);
                let currentIndex = 0;
                const nextStation = () => {
                    if (!isAutoPlaying) return;
                    handleStationClick(stationIds[currentIndex]);
                    currentIndex = (currentIndex + 1) % stationIds.length;
                    tourTimeout = setTimeout(nextStation, 4000);
                };
                nextStation();
            };

            document.querySelectorAll('.station-group').forEach(station => {
                const baseId = station.id.substring(2);
                station.addEventListener('click', () => {
                    stopAutoPlay();
                    handleStationClick(baseId);
                }); 
            });

            tourTimeout = setTimeout(startAutoPlay, 1500);
        });

        // --- Intersection Observer for Section Title Animations ---
        document.addEventListener('DOMContentLoaded', () => {
            const titles = document.querySelectorAll('.section-title');
            
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                rootMargin: '0px',
                threshold: 0.1
            });

            titles.forEach(title => {
                observer.observe(title);
            });
        });
    </script>
</body>
</html>
